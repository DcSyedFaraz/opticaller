<script setup>
import Checkbox from '@/Components/Checkbox.vue';
import GuestLayout from '@/Layouts/GuestLayout.vue';
import InputError from '@/Components/InputError.vue';
import InputLabel from '@/Components/InputLabel.vue';
import PrimaryButton from '@/Components/PrimaryButton.vue';
import TextInput from '@/Components/TextInput.vue';
import { Head, Link, useForm } from '@inertiajs/vue3';

defineProps({
    canResetPassword: {
        type: Boolean,
    },
    status: {
        type: String,
    },
});

const form = useForm({
    email: '',
    password: '',
    remember: false,
});

const submit = () => {
    form.post(route('login'), {
        onFinish: () => form.reset('password'),
    });
};
</script>

<template>

    <Head title="Log in" />
    <div class="min-h-screen flex items-center justify-center bg-[#eae9e7] p-4">
        <div class="flex w-full max-w-5xl xl:h-[65vh]">
            <Card class="flex-1 p-4 !rounded-r-none">
                <template #header>
                    <div class="text-center flex flex-col items-center justify-center">
                        <svg class="w-full max-w-xs xl:max-w-md lg:max-w-lg" width="320" height="63"
                            viewBox="0 0 320 93" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_73_1637)">
                                <path
                                    d="M46.1613 92.2929C20.6999 92.3451 -0.469474 71.4514 0.00741482 45.2523C0.469401 20.0815 21.2737 -0.521585 47.2492 0.00746394C72.3828 0.52161 93.1647 21.3781 92.4196 47.525C91.7117 72.4201 71.2204 92.3824 46.1613 92.2929ZM46.206 85.3035C68.2249 85.2439 85.1917 67.5022 85.4227 46.5861C85.6537 24.992 68.1355 7.04903 46.2806 7.02667C24.7311 7.00432 7.36194 24.3586 7.03408 45.5504C6.69876 67.0476 23.9711 85.2365 46.2135 85.3035H46.206Z"
                                    fill="black" />
                                <path
                                    d="M185.406 66.377C187.142 67.45 188.759 68.4485 190.383 69.4544C190.502 68.3665 190.51 67.3308 190.748 66.3472C191.747 62.3011 195.435 59.0672 199.638 58.4413C203.557 57.8526 207.059 58.7021 210.033 61.4293C210.085 61.474 210.152 61.5112 210.211 61.5485C210.226 61.5559 210.256 61.5485 210.278 61.5485C210.837 57.6663 209.6 54.8795 205.174 54.2461C202.387 53.8437 199.683 54.2759 197.045 55.2073C196.776 55.3042 196.501 55.4011 196.151 55.5203C195.622 53.6351 195.092 51.7574 194.526 49.738C195.927 49.3953 197.276 49.0152 198.647 48.7395C201.94 48.0913 205.264 47.9869 208.587 48.5309C213.326 49.3058 216.158 52.1597 216.977 57.0106C217.178 58.1879 217.298 59.3876 217.305 60.5798C217.335 66.2429 217.32 71.8985 217.32 77.5615C217.32 77.7776 217.32 77.9863 217.32 78.2471H210.942C210.83 77.338 210.718 76.4066 210.584 75.3112C207.425 78.3812 203.729 79.5212 199.534 78.7165C195.316 77.9117 192.373 75.4602 190.823 71.3471C189.958 72.1965 189.169 73.0609 188.282 73.8135C185.063 76.563 181.322 78.1725 177.127 78.7165C173.595 79.171 170.071 79.0667 166.68 77.9266C159.512 75.5198 154.691 70.6541 152.627 63.4113C150.079 54.4995 152.083 46.5935 158.909 40.1779C162.5 36.8024 166.904 35.096 171.852 34.7905C176.911 34.4776 181.68 35.3494 186.061 37.9946C187.693 38.9782 189.109 40.2301 190.398 41.7129C188.58 43.3671 186.792 44.9915 184.988 46.6233C182.872 44.0973 180.279 42.458 177.105 41.698C168.99 39.7532 160.861 45.0287 159.408 53.2327C158.566 57.9793 159.192 62.4725 162.023 66.4664C164.989 70.6466 169.162 72.4648 174.251 72.2859C178.819 72.1295 182.41 70.1101 185.279 66.6452C185.339 66.5707 185.361 66.4664 185.413 66.3546L185.406 66.377ZM203.885 72.8448C205.301 72.8522 206.65 72.5691 207.894 71.8985C211.053 70.2144 211.21 66.8986 208.222 64.9314C205.591 63.1952 201.322 63.4262 198.908 65.4381C196.918 67.0923 196.918 69.6109 198.922 71.2353C200.368 72.4052 202.06 72.8224 203.878 72.8448H203.885Z"
                                    fill="black" />
                                <path
                                    d="M102.047 75.1026C102.047 75.5348 102.047 75.803 102.047 76.0638C102.047 80.5197 102.039 84.9831 102.062 89.4391C102.062 90.0128 101.935 90.2364 101.316 90.2215C99.4237 90.1842 97.5236 90.1916 95.631 90.2215C95.087 90.2289 94.938 90.065 94.938 89.5285C94.9529 76.1979 94.9529 62.8674 94.938 49.5369C94.938 49.0078 95.0796 48.829 95.6235 48.8439C97.3746 48.8737 99.1182 48.8588 100.959 48.8588C101.07 50.2075 101.182 51.504 101.294 52.8006C101.383 52.8676 101.473 52.9421 101.562 53.0092C101.689 52.7931 101.771 52.5249 101.95 52.3609C103.984 50.4534 106.204 48.8439 109.043 48.3819C112.955 47.7485 116.42 48.8141 119.386 51.3848C123.745 55.1552 125.332 60.0508 124.893 65.684C124.639 68.9552 123.499 71.8836 121.301 74.3425C118.82 77.1145 115.72 78.5898 112.009 78.9102C108.216 79.2381 105.035 78.0831 102.382 75.3783C102.322 75.3187 102.248 75.2665 102.047 75.1026ZM101.592 63.918C101.562 65.2146 101.875 66.6602 102.509 68.0238C103.693 70.5721 105.646 72.1965 108.47 72.5244C111.54 72.8821 114.163 71.9581 116.033 69.3725C118.343 66.1833 118.38 61.3324 116.16 57.9867C114.081 54.8497 110.541 53.7245 107.024 55.0807C103.701 56.3623 101.547 59.7825 101.6 63.9106L101.592 63.918Z"
                                    fill="black" />
                                <path
                                    d="M251.149 65.8852C251.343 69.6034 253.645 72.2114 257.326 72.5318C258.347 72.6212 259.39 72.5914 260.411 72.4797C262.49 72.2412 264.1 71.1012 265.523 69.6481C265.672 69.4917 265.813 69.3352 265.963 69.1713C265.977 69.1564 266.007 69.1489 266.067 69.1191C267.736 70.1474 269.427 71.1906 271.178 72.271C270.314 73.6868 269.241 74.8641 267.974 75.8477C264.971 78.1874 261.529 79.0816 257.744 78.9251C254.517 78.7835 251.648 77.8 249.167 75.7061C246.38 73.3515 244.801 70.2964 244.272 66.757C243.534 61.7795 244.562 57.1522 247.759 53.1731C250.322 49.9839 253.735 48.3893 257.818 48.2179C259.599 48.1434 261.372 48.2254 263.094 48.7395C268.034 50.2149 270.933 53.6575 272.43 58.4487C273.123 60.6767 273.25 62.9642 273.153 65.2742C273.131 65.8181 272.885 65.8852 272.43 65.8852C268.541 65.8703 264.651 65.8852 260.769 65.8852C257.84 65.8852 254.912 65.8852 251.984 65.8852H251.142H251.149ZM266.149 60.6692C265.404 57.2192 262.542 54.0449 257.513 54.5516C254.167 54.8869 251.626 57.711 251.209 60.6692H266.141H266.149Z"
                                    fill="black" />
                                <path
                                    d="M139.498 55.036H135.109C135.094 55.334 135.064 55.565 135.064 55.796C135.064 60.3265 135.064 64.8643 135.064 69.3948C135.064 69.7525 135.109 70.1101 135.176 70.4603C135.399 71.6749 135.921 72.2114 137.15 72.3977C138 72.5244 138.857 72.5542 139.758 72.6287V78.3812C138.127 78.5153 136.48 78.709 134.818 78.7612C133.894 78.7835 132.948 78.642 132.046 78.4333C129.729 77.8894 128.447 76.3693 128.157 74.0221C128.067 73.3142 128.008 72.5914 128.008 71.8761C127.993 66.5782 128.008 61.2728 128.008 55.9748C128.008 55.6917 128.008 55.4085 128.008 55.0583H123.73V48.8811H127.955C127.955 48.5085 127.955 48.2254 127.955 47.9497C127.955 45.4088 127.97 42.8678 127.948 40.3269C127.948 39.7904 128.097 39.6265 128.641 39.6339C130.75 39.6637 132.858 39.6488 135.057 39.6488V48.8588H139.498V55.0583V55.036Z"
                                    fill="black" />
                                <path d="M228.169 78.262H221.194V35.4612H228.169V78.262Z" fill="black" />
                                <path d="M241.142 78.262H234.167V35.4016H241.142V78.262Z" fill="black" />
                                <path
                                    d="M282.564 78.2694H275.366V48.8886H282.229C282.341 50.4236 282.452 51.9586 282.564 53.4935C284.308 49.8498 287.184 48.1285 291.238 48.2329V54.6336C290.478 54.6709 289.695 54.6411 288.92 54.7528C286.044 55.1478 284.315 56.9212 283.369 59.5515C282.765 61.2355 282.557 62.9941 282.557 64.7824C282.557 68.9775 282.557 73.1727 282.557 77.3752C282.557 77.6584 282.557 77.9416 282.557 78.2843L282.564 78.2694Z"
                                    fill="black" />
                                <path d="M148.402 78.2843H141.457V48.9184H148.402V78.2843Z" fill="black" />
                                <path
                                    d="M320 49.507C319.963 50.6695 319.65 51.3028 318.949 51.5264C317.869 51.8691 316.945 51.1687 316.937 49.9765C316.915 46.2657 316.2 42.689 314.627 39.3284C310.641 30.8264 304.017 25.6402 294.769 23.8966C293.294 23.6209 291.774 23.5911 290.269 23.4719C289.613 23.4197 289.121 23.1366 288.868 22.5181C288.637 21.9518 288.719 21.3631 289.181 21.0055C289.546 20.7223 290.082 20.5062 290.537 20.5137C297.452 20.6403 303.651 22.8162 309.002 27.2125C314.784 31.959 318.301 38.0617 319.523 45.446C319.746 46.7873 319.843 48.1509 320 49.507Z"
                                    fill="black" />
                                <path
                                    d="M311.625 49.291C311.625 49.5816 311.632 49.8647 311.625 50.1553C311.595 50.9899 310.976 51.6083 310.172 51.6232C309.374 51.6381 308.741 51.0495 308.659 50.2C308.54 49.0078 308.502 47.8081 308.294 46.6308C307.027 39.4253 300.976 33.3822 293.764 32.108C292.802 31.9367 291.819 31.8994 290.843 31.7876C290.418 31.7355 289.971 31.7131 289.583 31.5641C288.972 31.3182 288.659 30.5731 288.816 29.9471C288.995 29.2169 289.531 28.7922 290.336 28.7922C295.038 28.8071 299.278 30.2228 303.055 33.0171C308.234 36.8471 311.461 42.9945 311.632 49.291H311.625Z"
                                    fill="black" />
                                <path
                                    d="M290.932 37.1303C297.4 37.3762 302.795 42.5847 303.264 49.0376C303.294 49.3953 303.346 49.7529 303.339 50.1106C303.309 50.9899 302.653 51.6232 301.826 51.6158C300.984 51.6158 300.388 50.9824 300.358 50.0882C300.187 45.0958 296.968 41.236 292.11 40.2151C291.528 40.0959 290.917 40.0885 290.321 40.0363C289.367 39.9543 288.719 39.3359 288.756 38.5088C288.786 37.6742 289.479 37.093 290.426 37.1079C290.597 37.1079 290.761 37.1228 290.932 37.1303Z"
                                    fill="black" />
                                <path d="M148.387 43.2926H141.442V35.4463H148.387V43.2926Z" fill="black" />
                                <path
                                    d="M38.5236 36.1318C38.3373 45.8559 41.8916 53.8214 49.3877 60.088C50.0509 59.3056 50.6991 58.4785 51.407 57.711C51.869 57.2043 52.3533 56.6827 52.9271 56.3251C53.8362 55.7588 54.8123 55.8184 55.6841 56.4666C56.1461 56.8094 56.5708 57.2043 56.9658 57.6216C59.231 59.9986 61.4813 62.3905 63.7391 64.7824C64.6556 65.7511 64.8568 66.8017 64.1414 67.912C63.6422 68.6795 63.0088 69.4097 62.286 69.976C59.3726 72.2636 56.0567 72.8001 52.4502 72.204C48.3818 71.5334 44.9467 69.6705 41.981 66.8911C39.1271 64.2086 36.5117 61.3175 34.3731 58.0091C31.3032 53.2551 29.5223 48.054 28.9336 42.4506C28.7026 40.2599 28.5312 38.0543 28.5312 35.8561C28.5387 31.2437 29.9992 27.0933 33.017 23.5762C35.2822 20.9384 38.1957 19.627 41.6979 19.7238C43.0689 19.7611 44.44 20.536 44.5517 22.3169C44.7604 25.685 45.1926 29.0381 45.4608 32.4061C45.6843 35.1259 44.589 36.2063 41.8692 36.1393C40.7664 36.1094 39.6711 36.1393 38.5236 36.1393V36.1318Z"
                                    fill="black" />
                            </g>
                            <defs>
                                <clipPath id="clip0_73_1637">
                                    <rect width="320" height="92.2929" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                        <p class="text-gray-500">Efficiency at Every Call</p>
                    </div>
                </template>
                <template #content>
                    <div class="p-fluid">
                        <div class="field">
                            <label for="email" class="block font-medium">Email</label>
                            <InputText v-model="form.email" id="email" placeholder="Email"
                                class="w-full focus:!border-black" />
                            <InputError :message="form.errors.email" />
                        </div>

                        <div class="field mt-4">
                            <label for="password" class="block font-medium">Password</label>
                            <Password v-model="form.password" id="password" fluid placeholder="Password"
                                :feedback="false" class="w-full " toggleMask />
                            <InputError :message="form.errors.password" />
                        </div>

                        <div class="flex align-items-center justify-between mt-4">
                            <div class="flex align-items-center">
                                <Checkbox v-model="form.remember" id="remember" binary class="mr-2 my-auto" />
                                <label for="remember" class="my-auto">Remember Me</label>
                            </div>
                            <div v-if="canResetPassword">
                                <Link href="#" class="text-green-600">Forgot your password?</Link>
                            </div>
                        </div>

                        <Button label="Sign In" icon="pi pi-sign-in" class="mt-4 !py-3 w-full !bg-black !border-black"
                            @click="submit" />

                        <div v-if="status" class="mt-4">
                            <Message severity="info" text="status" />
                        </div>
                    </div>
                </template>
                <template #footer>
                    <div class="text-center my-5">
                        © Vim Solution GmbH
                    </div>
                </template>
            </Card>
            <div class="flex-1 bg-cover bg-center xl:block hidden xl:h-[65vh]">
                <img src="images/login_image.png" alt="Image" class="w-full h-full object-cover rounded-r-xl " />
            </div>
        </div>
    </div>
</template>

<style scoped>
.min-h-screen {
    height: 100vh;
}

.p-inputtext:enabled:focus {
    border-color: black !important;
}

.p-fluid .field {
    margin-bottom: 1.5rem;
}
</style>
